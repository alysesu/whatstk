

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>whatstk.analysis &mdash; WhatsApp Analysis Toolkit</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="whatstk.graph" href="whatstk.graph.html" />
    <link rel="prev" title="whatstk.whatsapp" href="whatstk.whatsapp.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../content.html">
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                v0.3.0.a0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About whatstk</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about.html#first-contact-with-whatstk">First contact with whatstk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#installation-compatibility">Installation &amp; compatibility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../about.html#from-source">From source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about.html#develop">Develop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#support">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#why-this-name-whatstk">Why this name, whatstk?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/export_chat.html">Export a WhatsApp chat from your phone</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/export_chat.html#android">Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/export_chat.html#ios">iOS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/load_chat.html">Load a WhatsApp chat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/command_line.html">Command line tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/hformat.html">The Header format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/library-available-chats.html">Library available chats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/library-available-chats.html#whatsapp">WhatsApp</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/library-available-chats.html#pokemon">POKEMON</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/library-available-chats.html#lorem">LOREM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/library-available-chats.html#lorem1">LOREM1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/library-available-chats.html#lorem2">LOREM2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/library-available-chats.html#lorem-2000">LOREM_2000</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code_examples/index.html">Code examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code_examples/index.html#basic-examples">Basic examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../code_examples/load_chat.html">Load chat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../code_examples/load_chat_multiple.html">Load chat from multiple sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../code_examples/load_chat_multiple.html#rename-usernames">Rename usernames</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../code_examples/load_chat_hformat.html">Load chat with specific hformat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../code_examples/load_chat_multiple.html">Rename usernames</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../code_examples/load_chat_multiple.html#rename-usernames">Rename usernames</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../code_examples/index.html#visualisations">Visualisations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../code_examples/interventions_count.html">Count of user interventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../code_examples/interventions_count.html#count-of-user-interventions">Count of user interventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../code_examples/interventions_count.html#count-of-characters-sent-per-user">Count of characters sent per user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../code_examples/interventions_count.html#other-insights">Other insights</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../code_examples/message_length_boxplot.html">Message length boxplot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../code_examples/user_interaction.html">User interaction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../code_examples/user_interaction.html#user-interaction-heatmap">User interaction heatmap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../code_examples/user_interaction.html#user-interaction-flow">User interaction flow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../code_examples/custom.html">Custom plot example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../code_examples/custom.html#number-of-messages-vs-number-of-characters-sent">Number of messages vs. Number of characters sent</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#main-objects">Main objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="whatstk.WhatsAppChat.html">WhatsAppChat</a></li>
<li class="toctree-l3"><a class="reference internal" href="whatstk.FigureBuilder.html">FigureBuilder</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#core-api">Core API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="whatstk.whatsapp.html">whatstk.whatsapp</a><ul>
<li class="toctree-l4"><a class="reference internal" href="whatstk.whatsapp.html#module-whatstk.whatsapp.objects">whatstk.whatsapp.objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="whatstk.whatsapp.html#module-whatstk.whatsapp.parser">whatstk.whatsapp.parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="whatstk.whatsapp.html#module-whatstk.whatsapp.auto_header">whatstk.whatsapp.auto_header</a></li>
<li class="toctree-l4"><a class="reference internal" href="whatstk.whatsapp.html#module-whatstk.whatsapp.generation">whatstk.whatsapp.generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="whatstk.whatsapp.html#module-whatstk.whatsapp.hformat">whatstk.whatsapp.hformat</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">whatstk.analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="whatstk.graph.html">whatstk.graph</a><ul>
<li class="toctree-l4"><a class="reference internal" href="whatstk.graph.html#module-whatstk.graph.base">whatstk.graph.base</a></li>
<li class="toctree-l4"><a class="reference internal" href="whatstk.graph.html#module-whatstk.graph.figures">whatstk.graph.figures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="whatstk.utils.html">whatstk.utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="whatstk.utils.html#module-whatstk.utils.chat_merge">whatstk.utils.chat_merge</a></li>
<li class="toctree-l4"><a class="reference internal" href="whatstk.utils.html#module-whatstk.utils.exceptions">whatstk.utils.exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="whatstk.utils.html#module-whatstk.utils.utils">whatstk.utils.utils</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="whatstk.data.html">whatstk.data</a></li>
<li class="toctree-l3"><a class="reference internal" href="whatstk._chat.html">whatstk._chat</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#command-line-tools">Command line tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cmd/cmd_to_csv.html">whatst-to-csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmd/cmd_graph.html">whatstk-graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmd/cmd_chat_gen.html">whatstk-generate-chat</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../why_whatstk.html">Why choose whatstk?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../why_whatstk.html#automatic-parser">Automatic parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../why_whatstk.html#the-power-of-pandas-and-plotly">The power of pandas and plotly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../why_whatstk.html#open-source-and-community-oriented">Open source and Community oriented</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community &amp; Governance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../community.html#leadership">Leadership</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../community.html#bdfl">BDFL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../community.html#community-contributors">Community Contributors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#bug-reporting">Bug reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#requesting-a-feature">Requesting a Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#submitting-a-pull-request">Submitting a Pull Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#adding-new-examples">Adding new examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#api-discussions">API discussions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#v0-2-x">v0.2.X</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-2-6">v0.2.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-2-5">v0.2.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-2-4">v0.2.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-2-3">v0.2.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-2-2">v0.2.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-2-0">v0.2.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#v0-1-x">v0.1.X</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-1-11">v0.1.11</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-1-10">v0.1.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-1-9">v0.1.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-1-8">v0.1.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-1-7">v0.1.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-1-6">v0.1.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-1-1">v0.1.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#v0-1-0">v0.1.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../content.html">whatstk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../content.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">API Reference</a> &raquo;</li>
        
      <li>whatstk.analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

           <div itemprop="articleBody">
            
  <div class="section" id="module-whatstk.analysis">
<span id="whatstk-analysis"></span><h1>whatstk.analysis<a class="headerlink" href="#module-whatstk.analysis" title="Permalink to this headline">¶</a></h1>
<p>Analysis tools.</p>
<p><strong>Functions</strong></p>
<table border="1" class="longtable docutils align-default">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#whatstk.analysis.get_interventions_count" title="whatstk.analysis.get_interventions_count"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_interventions_count</span></code></a>([df,&nbsp;chat,&nbsp;…])</td>
<td>Get number of interventions per user per unit of time.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#whatstk.analysis.get_response_matrix" title="whatstk.analysis.get_response_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_response_matrix</span></code></a>([df,&nbsp;chat,&nbsp;zero_own,&nbsp;norm])</td>
<td>Get response matrix for given chat.</td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="whatstk.analysis.get_interventions_count">
<code class="descclassname">whatstk.analysis.</code><code class="descname">get_interventions_count</code><span class="sig-paren">(</span><em><span class="n">df</span><span class="o">=</span><span class="default_value">None</span></em>, <em><span class="n">chat</span><span class="o">=</span><span class="default_value">None</span></em>, <em><span class="n">date_mode</span><span class="o">=</span><span class="default_value">'date'</span></em>, <em><span class="n">msg_length</span><span class="o">=</span><span class="default_value">False</span></em>, <em><span class="n">cummulative</span><span class="o">=</span><span class="default_value">False</span></em>, <em><span class="n">all_users</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whatstk/analysis/interventions.html#get_interventions_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#whatstk.analysis.get_interventions_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of interventions per user per unit of time.</p>
<p>The unit of time can be chosen by means of argument <code class="docutils literal notranslate"><span class="pre">date_mode</span></code>.</p>
<p><strong>Note</strong>: Either <code class="docutils literal notranslate"><span class="pre">df</span></code> or <code class="docutils literal notranslate"><span class="pre">chat</span></code> must be provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<em>pandas.DataFrame</em><em>, </em><em>optional</em>) – Chat data. Atribute <cite>df</cite> of a chat loaded using Chat. If a value is given,
<code class="docutils literal notranslate"><span class="pre">chat</span></code> is ignored.</li>
<li><strong>chat</strong> (<em>Chat</em><em>, </em><em>optional</em>) – Chat data. Object obtained when chat loaded using Chat. Required if <code class="docutils literal notranslate"><span class="pre">df</span></code> is None.</li>
<li><strong>date_mode</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Choose mode to group interventions by.
Defaults to <code class="docutils literal notranslate"><span class="pre">date_mode=date</span></code>. Available modes are:</p>
<ul>
<li><code class="docutils literal notranslate"><span class="pre">'date'</span></code>: Grouped by particular date (year, month and day).</li>
<li><code class="docutils literal notranslate"><span class="pre">'hour'</span></code>: Grouped by day hours (24 hours).</li>
<li><code class="docutils literal notranslate"><span class="pre">'month'</span></code>: Grouped by months (12 months).</li>
<li><code class="docutils literal notranslate"><span class="pre">'weekday'</span></code>: Grouped by weekday (i.e. monday, tuesday, …, sunday).</li>
<li><code class="docutils literal notranslate"><span class="pre">'hourweekday'</span></code>: Grouped by weekday and hour.</li>
</ul>
</li>
<li><strong>msg_length</strong> (<em>bool</em><em>, </em><em>optional</em>) – Set to True to count the number of characters instead of number of messages sent.</li>
<li><strong>cummulative</strong> (<em>bool</em><em>, </em><em>optional</em>) – Set to True to obtain commulative counts.</li>
<li><strong>all_users</strong> (<em>bool</em><em>, </em><em>optional</em>) – Obtain number of interventions of all users combined. Defaults to False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><em>pandas.DataFrame</em> – DataFrame with shape <em>NxU</em>, where <em>N</em>: number of time-slots and <em>U</em>: number of users.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">date_mode</span></code> value is not supported.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>Get number of interventions per user from <a class="reference external" href="http://raw.githubusercontent.com/lucasrodes/whatstk/develop/chats/whatsapp/pokemon.txt">POKEMON chat</a>. The counts are
represented as a <cite>NxU</cite> matrix, where <cite>N</cite>: number of time-slots and <cite>U</cite>: number of users.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">whatstk</span> <span class="kn">import</span> <span class="n">WhatsAppChat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">whatstk.analysis</span> <span class="kn">import</span> <span class="n">get_interventions_count</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">whatstk.data</span> <span class="kn">import</span> <span class="n">whatsapp_urls</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filepath</span> <span class="o">=</span> <span class="n">whatsapp_urls</span><span class="o">.</span><span class="n">POKEMON</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chat</span> <span class="o">=</span> <span class="n">WhatsAppChat</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span> <span class="o">=</span> <span class="n">get_interventions_count</span><span class="p">(</span><span class="n">chat</span><span class="o">=</span><span class="n">chat</span><span class="p">,</span> <span class="n">date_mode</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">msg_length</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">username    Ash Ketchum  Brock  Jessie &amp; James  ...  Prof. Oak  Raichu  Wobbuffet</span>
<span class="go">date                                            ...</span>
<span class="go">2016-08-06            2      2               0  ...          0       0          0</span>
<span class="go">2016-08-07            1      1               0  ...          1       0          0</span>
<span class="go">2016-08-10            1      0               1  ...          0       2          0</span>
<span class="go">2016-08-11            0      0               0  ...          0       0          0</span>
<span class="go">2016-09-11            0      0               0  ...          0       0          0</span>

<span class="go">[5 rows x 8 columns]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="whatstk.analysis.get_response_matrix">
<code class="descclassname">whatstk.analysis.</code><code class="descname">get_response_matrix</code><span class="sig-paren">(</span><em><span class="n">df</span><span class="o">=</span><span class="default_value">None</span></em>, <em><span class="n">chat</span><span class="o">=</span><span class="default_value">None</span></em>, <em><span class="n">zero_own</span><span class="o">=</span><span class="default_value">True</span></em>, <em><span class="n">norm</span><span class="o">=</span><span class="default_value">'absolute'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whatstk/analysis/responses.html#get_response_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#whatstk.analysis.get_response_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get response matrix for given chat.</p>
<p>Obtains a DataFrame of shape <cite>[n_users, n_users]</cite> counting the number of responses between members. Responses can
be counted in different ways, e.g. using absolute values or normalised values. Responses are counted based solely
on consecutive messages. That is, if <span class="math notranslate nohighlight">\(user_i\)</span> sends a message right after <span class="math notranslate nohighlight">\(user_j\)</span>, it will be counted
as a response from <span class="math notranslate nohighlight">\(user_i\)</span> to <span class="math notranslate nohighlight">\(user_j\)</span>.</p>
<p>Axis 0 lists senders and axis 1 lists receivers. That is, the value in cell (i, j) denotes the number of times
<span class="math notranslate nohighlight">\(user_i\)</span> responded to a message from <span class="math notranslate nohighlight">\(user_j\)</span>.</p>
<p><strong>Note</strong>: Either <code class="docutils literal notranslate"><span class="pre">df</span></code> or <code class="docutils literal notranslate"><span class="pre">chat</span></code> must be provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>df</strong> (<em>pandas.DataFrame</em><em>, </em><em>optional</em>) – Chat data. Atribute <cite>df</cite> of a chat loaded using Chat. If a value is given,
<code class="docutils literal notranslate"><span class="pre">chat</span></code> is ignored.</li>
<li><strong>chat</strong> (<em>Chat</em><em>, </em><em>optional</em>) – Chat data. Object obtained when chat loaded using Chat. Required if <code class="docutils literal notranslate"><span class="pre">df</span></code> is None.</li>
<li><strong>zero_own</strong> (<em>bool</em><em>, </em><em>optional</em>) – Set to True to avoid counting own responses. Defaults to True.</li>
<li><strong>norm</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Specifies the type of normalization used for reponse count. Can be:</p>
<ul>
<li><code class="docutils literal notranslate"><span class="pre">'absolute'</span></code>: Absolute count of messages.</li>
<li><code class="docutils literal notranslate"><span class="pre">'joint'</span></code>: Normalized by total number of messages sent by all users.</li>
<li><code class="docutils literal notranslate"><span class="pre">'sender'</span></code>: Normalized per sender by total number of messages sent by user.</li>
<li><code class="docutils literal notranslate"><span class="pre">'receiver'</span></code>: Normalized per receiver by total number of messages sent by user.</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>pandas.DataFrame</em> – Response matrix.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>Get absolute count on responses (consecutive messages) between users.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">whatstk</span> <span class="kn">import</span> <span class="n">WhatsAppChat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">whatstk.analysis</span> <span class="kn">import</span> <span class="n">get_response_matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">whatstk.data</span> <span class="kn">import</span> <span class="n">whatsapp_urls</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chat</span> <span class="o">=</span> <span class="n">WhatsAppChat</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">whatsapp_urls</span><span class="o">.</span><span class="n">POKEMON</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">responses</span> <span class="o">=</span> <span class="n">get_response_matrix</span><span class="p">(</span><span class="n">chat</span><span class="o">=</span><span class="n">chat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">responses</span>
<span class="go">                Ash Ketchum  Brock  ...  Raichu  Wobbuffet</span>
<span class="go">Ash Ketchum               0      0  ...       1          0</span>
<span class="go">Brock                     1      0  ...       0          0</span>
<span class="go">Jessie &amp; James            0      1  ...       0          0</span>
<span class="go">Meowth                    0      0  ...       0          0</span>
<span class="go">Misty                     2      1  ...       1          0</span>
<span class="go">Prof. Oak                 0      1  ...       0          0</span>
<span class="go">Raichu                    1      0  ...       0          0</span>
<span class="go">Wobbuffet                 0      0  ...       0          0</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
    <a href="https://github.com/lucasrodes/whatstk">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
    </a>

          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="whatstk.graph.html" class="btn btn-neutral float-right" title="whatstk.graph" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="whatstk.whatsapp.html" class="btn btn-neutral float-left" title="whatstk.whatsapp" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, sociepy

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>